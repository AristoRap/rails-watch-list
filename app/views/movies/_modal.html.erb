<div class="modal fade round-one" id='movieModal' data-controller='update-favorites update-likes' data-add-modal-target='modal' tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content mdl-dark">
      <div class="mdl-header p-0">
        <div class='mdl-image-wrap'>
          <div class="gradient"></div>
          <%= image_tag asset_path('black_image.jpg'), data: { add_modal_target: 'backdrop' }, class: 'mdl-image' %>
          <p data-add-modal-target="link" class='mdl-title'></p>
          </a>
          <button type="button" class="mdl-close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">x</span>
          </button>
        </div>
      </div>

      <div class="modal-body mdl-dark font-md">
        <div class='d-flex justify-content-between'>
          <div class='w-75'>
            <p data-add-modal-target='overview'></p>
          </div>

          <div class='d-flex align-items-start'>
            <i class="fab fa-imdb imdb text-orange mr-2"></i>
            <span>
              <h3 class='pt-1 rating' data-add-modal-target='imdbAverage'></h3>
            </span>
          </div>
        </div>
        <div class="d-flex align-items-center">
          <%= simple_form_for favorite, data: { add_modal_target: 'favorite', update_favorites_target: 'form', action: 'submit->update-favorites#favorite'} do |f| %>
            <%= f.hidden_field :movie_id, value: '', data: { add_modal_target: 'movieId' } %>
            <%= f.button :button, 'Add to favorites', data: { add_modal_target: 'btnForm' }, class: 'btn button-orange' %>
            <input type="hidden" name="_method" value="patch" data-add-modal-target="patch"></input>
            <input type="hidden" name="_method" value="delete" data-add-modal-target="delete"></input>
          <% end %>

          <div class='d-flex' data-update-likes-target='likeWrap'>
            <%= simple_form_for like, data: { id: 'like', update_likes_target: 'likeForm', action: 'submit->update-likes#like'} do |f|%>
              <%= f.hidden_field :movie_id, value: '', data: { add_modal_target: 'movieId' } %>
              <%= f.hidden_field :liked, value: true, data: { add_modal_target: 'likeValue' } %>
              <%= f.button :button, '', class: 'button-reset ml-2' do %>
                <i class="far fa-thumbs-up thumb" data-add-modal-target="likeBtn"></i>
              <% end %>
            <% end %>

            <%= simple_form_for like, data: { id: 'dislike', update_likes_target: 'likeForm', action: 'submit->update-likes#like'} do |f|%>
              <%= f.hidden_field :movie_id, value: '', data: { add_modal_target: 'movieId' } %>
              <%= f.hidden_field :liked, value: false, data: { add_modal_target: 'dislikeValue' } %>
              <%= f.button :button, '', class: 'button-reset ml-2' do %>
                <i class="far fa-thumbs-down thumb thumb-down" data-add-modal-target="dislikeBtn"></i>
              <% end %>
            <% end %>
          </div>
        </div>

        <h3 class='mt-3'>Clip</h3>
        <div class="youtube-wrap round-one">
          <iframe data-add-modal-target='youtube'
                  width='100%'
                  height='100%'
                  src=""
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen
            >
          </iframe>
        </div>

        <div data-add-modal-target='info' data-update-favorites-target='info' class='mb-3'> </div>
      </div>
    </div>
  </div>
</div>
